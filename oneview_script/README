SetUp Requirement:
VM - Red Hat Enterprise Linux Server release 7.2 (Maipo)
Python version 3.4
OneView 2.0[needs library future-0.15.2, setuptools-18.3.1 to be installed on python] https://github.com/HewlettPackard/python-hpOneView
pika-0.10.0 to be installed on python https://pypi.python.org/pypi/pika
The future library can be downloaded at https://pypi.python.org/pypi/future
The setuptools-18.3.1 library can be downloaded at https://pypi.python.org/pypi/setuptools/18.3.1

The functionality of script:
The below script generates, download the certificates and then monitors the alerts
received from HPE OneView's State-Change Message Bus. Specifically, the scmb alerts
raised for server profiles when they are at critical/warning state and is in ACTIVE mode.
This code then forks a thread to handle migration of server profile to another server hardware.

The forked script to create copy of server profile is termed create_server_profile_to_hardware.py,
Here server hardware's with no profile are fetched. This server hardware list is
then parsed to get a server hardware with good health and NIC status. A check is
further done to check if the hardware type matches that of server profile hardware
for which the alert was raised. The script then updates the server profile with the
new hardware details. A single profile update failure state is checked and the
process is repeated to ensure that we result in healthy server profile.
In order for the scripts to register and listen on the SCMB a couple
of thing need to happen first.

#1. The script generates the certificate  to connect to oneview if it does not exists

#2. The script download a copy of the SSL key and certificate. 

Running the script:
The profile_migrationy.py scrip can be invoked by:

  set appliance ip, username and password in the profile_migration parameters
  ./profile_migration.py

